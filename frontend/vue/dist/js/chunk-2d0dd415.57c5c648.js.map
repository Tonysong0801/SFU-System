{"version":3,"sources":["webpack:///./src/views/front/ArticleDetail.vue?52dd","webpack:///src/views/front/ArticleDetail.vue","webpack:///./src/views/front/ArticleDetail.vue?cb0b","webpack:///./src/views/front/ArticleDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","_v","_s","article","name","user","time","attrs","content","model","value","commentForm","callback","$$v","$set","expression","on","save","_l","item","key","id","avatarUrl","nickname","$event","handleReply","userId","del","_e","children","subItem","pnickname","dialogFormVisible","slot","staticRenderFns","data","localStorage","getItem","JSON","parse","comments","$route","query","created","load","loadComment","methods","request","get","then","articleId","contentReply","post","res","code","$message","warning","delete","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,WAAW,CAACF,EAAG,MAAM,CAACG,YAAY,QAAQD,YAAY,CAAC,YAAY,OAAO,MAAQ,UAAU,OAAS,YAAY,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,QAAQC,SAASP,EAAG,MAAM,CAACE,YAAY,CAAC,YAAY,OAAO,aAAa,SAAS,CAACF,EAAG,IAAI,CAACG,YAAY,uBAAuBP,EAAIQ,GAAG,KAAKJ,EAAG,OAAO,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,QAAQE,SAASR,EAAG,IAAI,CAACG,YAAY,eAAeD,YAAY,CAAC,cAAc,UAAUN,EAAIQ,GAAG,KAAKJ,EAAG,OAAO,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,QAAQG,aAAaT,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,WAAW,CAACF,EAAG,eAAe,CAACG,YAAY,KAAKO,MAAM,CAAC,MAAQd,EAAIU,QAAQK,QAAQ,UAAW,EAAM,YAAc,UAAU,cAAe,EAAM,UAAW,EAAM,aAAc,EAAK,QAAS,MAAS,GAAGX,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,gBAAgB,sBAAsB,QAAU,SAAS,YAAY,SAAS,CAACN,EAAIQ,GAAG,QAAQJ,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,WAAW,CAACF,EAAG,WAAW,CAACU,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAYE,MAAM,CAACC,MAAOjB,EAAIkB,YAAmB,QAAEC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIkB,YAAa,UAAWE,IAAME,WAAW,0BAA0B,GAAGlB,EAAG,MAAM,CAACG,YAAY,QAAQD,YAAY,CAAC,aAAa,UAAU,CAACF,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,UAAU,KAAO,SAASS,GAAG,CAAC,MAAQvB,EAAIwB,OAAO,CAACxB,EAAIQ,GAAG,cAAc,KAAKJ,EAAG,MAAMJ,EAAIyB,GAAIzB,EAAY,UAAE,SAAS0B,GAAM,OAAOtB,EAAG,MAAM,CAACuB,IAAID,EAAKE,GAAGtB,YAAY,CAAC,gBAAgB,iBAAiB,QAAU,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,QAAQ,aAAa,WAAW,CAACF,EAAG,WAAW,CAACE,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,gBAAgB,OAAOQ,MAAM,CAAC,IAAMY,EAAKG,cAAc,GAAGzB,EAAG,MAAM,CAACE,YAAY,CAAC,KAAO,IAAI,YAAY,OAAO,QAAU,QAAQ,cAAc,SAAS,CAACF,EAAG,IAAI,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGiB,EAAKI,UAAU,OAAO1B,EAAG,OAAO,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGiB,EAAKX,YAAYX,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,cAAc,OAAO,aAAa,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,UAAU,CAACF,EAAG,IAAI,CAACG,YAAY,iBAAiBH,EAAG,OAAO,CAACE,YAAY,CAAC,cAAc,QAAQ,CAACN,EAAIQ,GAAGR,EAAIS,GAAGiB,EAAKb,WAAWT,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,QAAQ,KAAO,MAAM,CAACF,EAAG,YAAY,CAACE,YAAY,CAAC,cAAc,OAAOQ,MAAM,CAAC,KAAO,QAAQS,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAO/B,EAAIgC,YAAYN,EAAKE,OAAO,CAAC5B,EAAIQ,GAAG,WAAYR,EAAIY,KAAKgB,KAAOF,EAAKO,OAAQ7B,EAAG,YAAY,CAACE,YAAY,CAAC,MAAQ,OAAOQ,MAAM,CAAC,KAAO,QAAQS,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAO/B,EAAIkC,IAAIR,EAAKE,OAAO,CAAC5B,EAAIQ,GAAG,YAAYR,EAAImC,MAAM,SAAUT,EAAKU,SAAe,OAAEhC,EAAG,MAAM,CAACE,YAAY,CAAC,eAAe,UAAUN,EAAIyB,GAAIC,EAAa,UAAE,SAASW,GAAS,OAAOjC,EAAG,MAAM,CAACuB,IAAIU,EAAQT,GAAGtB,YAAY,CAAC,mBAAmB,UAAU,QAAU,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,YAAY,OAAO,QAAU,QAAQ,cAAc,SAAS,CAACF,EAAG,MAAM,CAAEiC,EAAiB,UAAEjC,EAAG,IAAI,CAACE,YAAY,CAAC,MAAQ,YAAY,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAG4B,EAAQC,cAActC,EAAImC,OAAO/B,EAAG,MAAM,CAACE,YAAY,CAAC,eAAe,QAAQ,CAACF,EAAG,IAAI,CAACJ,EAAIQ,GAAGR,EAAIS,GAAG4B,EAAQP,UAAU,OAAO1B,EAAG,OAAO,CAACJ,EAAIQ,GAAGR,EAAIS,GAAG4B,EAAQtB,cAAcX,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,cAAc,OAAO,aAAa,MAAM,eAAe,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,UAAU,CAACF,EAAG,IAAI,CAACG,YAAY,iBAAiBH,EAAG,OAAO,CAACE,YAAY,CAAC,cAAc,QAAQ,CAACN,EAAIQ,GAAGR,EAAIS,GAAG4B,EAAQxB,WAAWT,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,QAAQ,KAAO,MAAM,CAACF,EAAG,YAAY,CAACE,YAAY,CAAC,cAAc,OAAOQ,MAAM,CAAC,KAAO,QAAQS,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAO/B,EAAIgC,YAAYK,EAAQT,OAAO,CAAC5B,EAAIQ,GAAG,WAAYR,EAAIY,KAAKgB,KAAOS,EAAQJ,OAAQ7B,EAAG,YAAY,CAACE,YAAY,CAAC,MAAQ,OAAOQ,MAAM,CAAC,KAAO,QAAQS,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAO/B,EAAIkC,IAAIG,EAAQT,OAAO,CAAC5B,EAAIQ,GAAG,YAAYR,EAAImC,MAAM,YAAW,GAAGnC,EAAImC,UAAS,KAAK/B,EAAG,YAAY,CAACU,MAAM,CAAC,MAAQ,QAAQ,QAAUd,EAAIuC,kBAAkB,MAAQ,OAAOhB,GAAG,CAAC,iBAAiB,SAASQ,GAAQ/B,EAAIuC,kBAAkBR,KAAU,CAAC3B,EAAG,UAAU,CAACU,MAAM,CAAC,cAAc,OAAO,KAAO,UAAU,CAACV,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,kBAAkB,CAACV,EAAG,WAAW,CAACU,MAAM,CAAC,KAAO,WAAW,aAAe,OAAOE,MAAM,CAACC,MAAOjB,EAAIkB,YAAwB,aAAEC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIkB,YAAa,eAAgBE,IAAME,WAAW,+BAA+B,IAAI,GAAGlB,EAAG,MAAM,CAACG,YAAY,gBAAgBO,MAAM,CAAC,KAAO,UAAU0B,KAAK,UAAU,CAACpC,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,SAASS,GAAG,CAAC,MAAQ,SAASQ,GAAQ/B,EAAIuC,mBAAoB,KAAS,CAACvC,EAAIQ,GAAG,YAAYJ,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,UAAU,KAAO,SAASS,GAAG,CAAC,MAAQvB,EAAIwB,OAAO,CAACxB,EAAIQ,GAAG,cAAc,IAAI,IAAI,IACxnJiC,EAAkB,GCyGtB,GACE9B,KAAM,UACN+B,KAFF,WAGI,MAAO,CACLhC,QAAS,GACTE,KAAM+B,aAAaC,QAAQ,QAAUC,KAAKC,MAAMH,aAAaC,QAAQ,SAAW,GAChFG,SAAU,GACV7B,YAAa,GACbU,GAAI3B,KAAK+C,OAAOC,MAAMrB,GACtBW,mBAAmB,IAGvBW,QAZF,WAaIjD,KAAKkD,OACLlD,KAAKmD,eAEPC,QAAS,CACPF,KADJ,WACA,WACMlD,KAAKqD,QAAQC,IAAI,YAActD,KAAK2B,IAAI4B,MAAK,SAAnD,GACQ,EAAR,mBAGIJ,YANJ,WAMA,WACMnD,KAAKqD,QAAQC,IAAI,iBAAmBtD,KAAK2B,IAAI4B,MAAK,SAAxD,GACQ,EAAR,oBAGIhC,KAXJ,WAWA,WACWvB,KAAKW,KAAKgB,IAIf3B,KAAKiB,YAAYuC,UAAYxD,KAAK2B,GAC9B3B,KAAKiB,YAAYwC,eACnBzD,KAAKiB,YAAYH,QAAUd,KAAKiB,YAAYwC,cAE9CzD,KAAKqD,QAAQK,KAAK,WAAY1D,KAAKiB,aAAasC,MAAK,SAA3D,GACyB,QAAbI,EAAIC,MACN,EAAV,wCACU,EAAV,eACU,EAAV,cACU,EAAV,sBAEU,EAAV,0BAdQ5D,KAAK6D,SAASC,QAAQ,wBAkB1B7B,IA/BJ,SA+BA,cACMjC,KAAKqD,QAAQU,OAAO,YAAcpC,GAAI4B,MAAK,SAAjD,GACyB,QAAbI,EAAIC,MACN,EAAV,4BACU,EAAV,eAEU,EAAV,uCAII7B,YAzCJ,SAyCA,GACM/B,KAAKiB,YAAc,CAAzB,OACMjB,KAAKsC,mBAAoB,KCrKuU,I,YCOlW0B,EAAY,eACd,EACAlE,EACA0C,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E","file":"js/chunk-2d0dd415.57c5c648.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"color\":\"#666\"}},[_c('div',{staticStyle:{\"margin\":\"20px 0\"}},[_c('div',{staticClass:\"pd-10\",staticStyle:{\"font-size\":\"20px\",\"color\":\"#3F5EFB\",\"cursor\":\"pointer\"}},[_vm._v(_vm._s(_vm.article.name))]),_c('div',{staticStyle:{\"font-size\":\"14px\",\"margin-top\":\"10px\"}},[_c('i',{staticClass:\"el-icon-user-solid\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.article.user))]),_c('i',{staticClass:\"el-icon-time\",staticStyle:{\"margin-left\":\"10px\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.article.time))])])]),_c('div',{staticStyle:{\"margin\":\"20px 0\"}},[_c('mavon-editor',{staticClass:\"md\",attrs:{\"value\":_vm.article.content,\"subfield\":false,\"defaultOpen\":'preview',\"toolbarsFlag\":false,\"editable\":false,\"scrollStyle\":true,\"ishljs\":true}})],1),_c('div',{staticStyle:{\"margin\":\"30px 0\"}},[_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('div',{staticStyle:{\"border-bottom\":\"1px solid orangered\",\"padding\":\"10px 0\",\"font-size\":\"20px\"}},[_vm._v(\"评论\")]),_c('div',{staticStyle:{\"padding\":\"10px 0\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"textarea\"},model:{value:(_vm.commentForm.content),callback:function ($$v) {_vm.$set(_vm.commentForm, \"content\", $$v)},expression:\"commentForm.content\"}})],1),_c('div',{staticClass:\"pd-10\",staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.save}},[_vm._v(\"comment\")])],1)]),_c('div',_vm._l((_vm.comments),function(item){return _c('div',{key:item.id,staticStyle:{\"border-bottom\":\"1px solid #ccc\",\"padding\":\"10px 0\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"100px\",\"text-align\":\"center\"}},[_c('el-image',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"border-radius\":\"50%\"},attrs:{\"src\":item.avatarUrl}})],1),_c('div',{staticStyle:{\"flex\":\"1\",\"font-size\":\"14px\",\"padding\":\"5px 0\",\"line-height\":\"25px\"}},[_c('b',[_vm._v(_vm._s(item.nickname)+\"：\")]),_c('span',[_vm._v(_vm._s(item.content))]),_c('div',{staticStyle:{\"display\":\"flex\",\"line-height\":\"20px\",\"margin-top\":\"5px\"}},[_c('div',{staticStyle:{\"width\":\"200px\"}},[_c('i',{staticClass:\"el-icon-time\"}),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(_vm._s(item.time))])]),_c('div',{staticStyle:{\"text-align\":\"right\",\"flex\":\"1\"}},[_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleReply(item.id)}}},[_vm._v(\"reply\")]),(_vm.user.id === item.userId)?_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.del(item.id)}}},[_vm._v(\"delete\")]):_vm._e()],1)])])]),(item.children.length)?_c('div',{staticStyle:{\"padding-left\":\"200px\"}},_vm._l((item.children),function(subItem){return _c('div',{key:subItem.id,staticStyle:{\"background-color\":\"#f0f0f0\",\"padding\":\"5px 20px\"}},[_c('div',{staticStyle:{\"font-size\":\"14px\",\"padding\":\"5px 0\",\"line-height\":\"25px\"}},[_c('div',[(subItem.pnickname)?_c('b',{staticStyle:{\"color\":\"#3a8ee6\"}},[_vm._v(\"@\"+_vm._s(subItem.pnickname))]):_vm._e()]),_c('div',{staticStyle:{\"padding-left\":\"5px\"}},[_c('b',[_vm._v(_vm._s(subItem.nickname)+\"：\")]),_c('span',[_vm._v(_vm._s(subItem.content))])]),_c('div',{staticStyle:{\"display\":\"flex\",\"line-height\":\"20px\",\"margin-top\":\"5px\",\"padding-left\":\"5px\"}},[_c('div',{staticStyle:{\"width\":\"200px\"}},[_c('i',{staticClass:\"el-icon-time\"}),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(_vm._s(subItem.time))])]),_c('div',{staticStyle:{\"text-align\":\"right\",\"flex\":\"1\"}},[_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleReply(subItem.id)}}},[_vm._v(\"reply\")]),(_vm.user.id === subItem.userId)?_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.del(subItem.id)}}},[_vm._v(\"delete\")]):_vm._e()],1)])])])}),0):_vm._e()])}),0)]),_c('el-dialog',{attrs:{\"title\":\"reply\",\"visible\":_vm.dialogFormVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"80px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"reply content\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.commentForm.contentReply),callback:function ($$v) {_vm.$set(_vm.commentForm, \"contentReply\", $$v)},expression:\"commentForm.contentReply\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.save}},[_vm._v(\"confirm\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"color: #666\">\n    <div style=\"margin: 20px 0; \">\n      <div class=\"pd-10\" style=\"font-size: 20px; color: #3F5EFB; cursor: pointer\">{{ article.name }}</div>\n      <div style=\"font-size: 14px; margin-top: 10px\">\n        <i class=\"el-icon-user-solid\"></i> <span>{{ article.user }}</span>\n        <i class=\"el-icon-time\" style=\"margin-left: 10px\"></i> <span>{{ article.time }}</span>\n      </div>\n    </div>\n\n   <div style=\"margin: 20px 0\">\n     <mavon-editor\n         class=\"md\"\n         :value=\"article.content\"\n         :subfield=\"false\"\n         :defaultOpen=\"'preview'\"\n         :toolbarsFlag=\"false\"\n         :editable=\"false\"\n         :scrollStyle=\"true\"\n         :ishljs=\"true\"\n     />\n   </div>\n\n    <div style=\"margin: 30px 0\">\n      <div style=\"margin: 10px 0\">\n        <div style=\"border-bottom: 1px solid orangered; padding: 10px 0; font-size: 20px\">评论</div>\n        <div style=\"padding: 10px 0\">\n          <el-input size=\"small\" type=\"textarea\" v-model=\"commentForm.content\"></el-input>\n        </div>\n        <div class=\"pd-10\" style=\"text-align: right\">\n          <el-button type=\"primary\" size=\"small\" @click=\"save\">comment</el-button>\n        </div>\n      </div>\n\n\n      <div>\n        <div v-for=\"item in comments\" :key=\"item.id\" style=\"border-bottom: 1px solid #ccc; padding: 10px 0; \">\n          <div style=\"display: flex\">\n            <div style=\"width: 100px; text-align: center\">\n              <el-image :src=\"item.avatarUrl\" style=\"width: 50px; height: 50px; border-radius: 50%\"></el-image>\n            </div> \n            <div style=\"flex: 1; font-size: 14px; padding: 5px 0; line-height: 25px\">\n              <b>{{ item.nickname }}：</b>\n              <span>{{ item.content }}</span>\n\n              <div style=\"display: flex; line-height: 20px; margin-top: 5px\">\n                <div style=\"width: 200px;\">\n                  <i class=\"el-icon-time\"></i><span style=\"margin-left: 5px\">{{ item.time }}</span>\n                </div>\n                <div style=\"text-align: right; flex: 1\">\n                  <el-button style=\"margin-left: 5px\" type=\"text\" @click=\"handleReply(item.id)\">reply</el-button>\n                  <el-button type=\"text\" style=\"color: red\" @click=\"del(item.id)\" v-if=\"user.id === item.userId\">delete</el-button>\n                </div>\n              </div>\n            </div>   \n          </div>\n\n          <div v-if=\"item.children.length\"  style=\"padding-left: 200px;\">\n            <div v-for=\"subItem in item.children\" :key=\"subItem.id\"  style=\"background-color: #f0f0f0; padding: 5px 20px\">\n\n              <div style=\"font-size: 14px; padding: 5px 0; line-height: 25px\">\n                <div>\n                  <b style=\"color: #3a8ee6\" v-if=\"subItem.pnickname\">@{{ subItem.pnickname }}</b>\n                </div>\n                <div style=\"padding-left: 5px\">\n                  <b>{{ subItem.nickname }}：</b>\n                  <span>{{ subItem.content }}</span>\n                </div>\n\n                <div style=\"display: flex; line-height: 20px; margin-top: 5px; padding-left: 5px\">\n                  <div style=\"width: 200px;\">\n                    <i class=\"el-icon-time\"></i><span style=\"margin-left: 5px\">{{ subItem.time }}</span>\n                  </div>\n                  <div style=\"text-align: right; flex: 1\">\n                    <el-button style=\"margin-left: 5px\" type=\"text\" @click=\"handleReply(subItem.id)\">reply</el-button>\n                    <el-button type=\"text\" style=\"color: red\" @click=\"del(subItem.id)\" v-if=\"user.id === subItem.userId\">delete</el-button>\n                  </div>\n                </div>\n              </div>   \n            </div>\n\n          </div>\n\n\n        </div>\n      </div>\n    </div>\n\n\n    <el-dialog title=\"reply\" :visible.sync=\"dialogFormVisible\" width=\"50%\" >\n      <el-form label-width=\"80px\" size=\"small\">\n        <el-form-item label=\"reply content\">\n          <el-input type=\"textarea\" v-model=\"commentForm.contentReply\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\" size=\"small\">cancel</el-button>\n        <el-button type=\"primary\" @click=\"save\"  size=\"small\">confirm</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"Article\",\n  data() {\n    return {\n      article: {},\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\n      comments: [],\n      commentForm: {},\n      id: this.$route.query.id,\n      dialogFormVisible: false\n    }\n  },\n  created() {\n    this.load()\n    this.loadComment()\n  },\n  methods: {\n    load() {\n      this.request.get(\"/article/\" + this.id).then(res => {\n        this.article = res.data\n      })\n    },\n    loadComment() {\n      this.request.get(\"/comment/tree/\" + this.id).then(res => {\n        this.comments = res.data\n      })\n    },\n    save() {\n      if (!this.user.id) {\n        this.$message.warning(\"please log in first\")\n        return\n      }\n      this.commentForm.articleId = this.id\n      if (this.commentForm.contentReply) {\n        this.commentForm.content = this.commentForm.contentReply\n      }\n      this.request.post(\"/comment\", this.commentForm).then(res => {\n        if (res.code === '200') {\n          this.$message.success(\"successfully reply!\")\n          this.commentForm = {}  \n          this.loadComment()\n          this.dialogFormVisible = false\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n    del(id) {\n      this.request.delete(\"/comment/\" + id).then(res => {\n        if (res.code === '200') {\n          this.$message.success(\"deleted\")\n          this.loadComment()\n        } else {\n          this.$message.error(\"failed to delete\")\n        }\n      })\n    },\n    handleReply(pid) {\n      this.commentForm = { pid: pid }\n      this.dialogFormVisible = true\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleDetail.vue?vue&type=template&id=aa7abbca&scoped=true&\"\nimport script from \"./ArticleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa7abbca\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}